<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Chỉnh sửa Ảnh</title>
</head>
<body>
    <h1>Chỉnh sửa Ảnh</h1>

    <!--  <form th:action="@{'/admin/product-details/images/edit' + ${imageitem.id}}" th:object="${imageitem}" method="post"> -->
    <form th:action="@{/admin/product-details/images/edit/{id}(id=${imageitem.id})}" th:object="${imageitem}" method="post">
        
        <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />
        <input type="hidden" name="id" th:value="${imageitem.id}" /> 

        <!-- Tên Ảnh -->
        <label for="name">Tên Ảnh:</label>
        <input type="text" id="name" name="name" 
               th:value="${imageitem.name}" 
               placeholder="Nhập tên ảnh" required />
        <br><br>

        <!-- URL Ảnh -->
        <label for="imageUrl">URL Ảnh:</label>
        <input type="text" id="imageUrl" name="imageUrl" 
               th:value="${imageitem.imageUrl}" 
               placeholder="Nhập URL ảnh" required />
        <br><br>

        <!-- Sản phẩm -->
        <label for="productDetail">Sản Phẩm:</label>
        <select id="productDetail" name="productDetailId" required>
            <option value="">Chọn Sản Phẩm</option>
            <!-- Lặp qua danh sách sản phẩm và đánh dấu sản phẩm đang được chọn -->
            <option th:each="product : ${products}" 
                    th:value="${product.productDetailID}" 
                    th:text="${product.productDetailID}" 
                    th:selected="${product.productDetailID} == ${imageitem.productDetail.productDetailID}">
            </option>
        </select>
        <br><br>

        <!-- Nút lưu -->
        <button type="submit">Lưu Thay Đổi</button>
    </form>

    <a th:href="@{/admin/product-details/images}">Quay lại danh sách</a>
</body>
</html>
