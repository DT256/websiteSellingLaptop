<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Edit Product</title>
    <link rel="stylesheet" href="/css/admin/admin-product-edit.css">
</head>
<body>
	
	<div th:replace="fragments/header :: header"></div>
	
    <div class="container">
        <h2>Edit Product</h2>

        <!-- Hiển thị thông báo lỗi nếu có -->
        <div th:if="${errorMessage}" class="alert alert-danger">
            <p th:text="${errorMessage}"></p>
        </div>

        <form th:action="@{/admin/products/edit{id}(id=${product.productID})}"
              method="post" th:object="${product}">
            <!-- Product Information -->
            <div class="form-group">
                <label for="name">Product Name:</label>
                <input type="text" id="name" th:field="*{name}" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="price">Price:</label>
                <input type="number" id="price" th:field="*{price}" class="form-control" required>
            </div>

            <div class="form-group">
                <label for="category">Category:</label>
                <select id="category" th:field="*{category.categoryID}" class="form-control" required>
                    <option th:each="category : ${categories}"
                            th:value="${category.categoryID}" th:text="${category.name}"
                            th:selected="${category.categoryID == product.category.categoryID}"></option>
                </select>
            </div>

            <div class="form-group">
                <label for="manufacturer">Manufacturer:</label>
                <select id="manufacturer" th:field="*{manufacturer.id}" class="form-control" required>
                    <option th:each="manufacturer : ${manufacturers}"
                            th:value="${manufacturer.id}" th:text="${manufacturer.name}"
                            th:selected="${manufacturer.id == product.manufacturer.id}"></option>
                </select>
            </div>

            <!-- Product Details (RAM, CPU, etc.) -->
            <div class="form-group">
                <label for="ram">RAM:</label>
                <input type="text" id="ram" th:field="*{detail.RAM}" class="form-control">
            </div>

            <div class="form-group">
                <label for="cpu">CPU:</label>
                <input type="text" id="cpu" th:field="*{detail.CPU}" class="form-control">
            </div>

            <div class="form-group">
                <label for="gpu">GPU:</label>
                <input type="text" id="gpu" th:field="*{detail.GPU}" class="form-control">
            </div>

            <!-- Các trường khác như monitor, color, wifi, etc. -->
            <div class="form-group">
                <label for="monitor">Monitor:</label>
                <input type="text" id="monitor" th:field="*{detail.monitor}" class="form-control">
            </div>

            <div class="form-group">
                <label for="color">Color:</label>
                <input type="text" id="color" th:field="*{detail.color}" class="form-control">
            </div>

            <div class="form-group">
                <label for="lan">LAN:</label>
                <input type="text" id="lan" th:field="*{detail.LAN}" class="form-control">
            </div>

            <div class="form-group">
                <label for="wifi">WiFi:</label>
                <input type="text" id="wifi" th:field="*{detail.WIFI}" class="form-control">
            </div>

            <div class="form-group">
                <label for="audio">Audio:</label>
                <input type="text" id="audio" th:field="*{detail.audio}" class="form-control">
            </div>

            <div class="form-group">
                <label for="bluetooth">Bluetooth:</label>
                <input type="text" id="bluetooth" th:field="*{detail.bluetooth}" class="form-control">
            </div>

            <div class="form-group">
                <label for="charger">Charger:</label>
                <input type="text" id="charger" th:field="*{detail.charger}" class="form-control">
            </div>

            <div class="form-group">
                <label for="connect">Connect:</label>
                <input type="text" id="connect" th:field="*{detail.connect}" class="form-control">
            </div>

            <div class="form-group">
                <label for="description">Description:</label>
                <input type="text" id="description" th:field="*{detail.description}" class="form-control">
            </div>

            <div class="form-group">
                <label for="disk">Disk:</label>
                <input type="text" id="disk" th:field="*{detail.disk}" class="form-control">
            </div>

            <div class="form-group">
                <label for="operationSystem">Operation System:</label>
                <input type="text" id="operationSystem" th:field="*{detail.operationSystem}" class="form-control">
            </div>

            <div class="form-group">
                <label for="size">Size:</label>
                <input type="text" id="size" th:field="*{detail.size}" class="form-control">
            </div>

            <div class="form-group">
                <label for="webcam">Webcam:</label>
                <input type="text" id="webcam" th:field="*{detail.webcam}" class="form-control">
            </div>

            <div class="form-group">
                <label for="weight">Weight:</label>
                <input type="text" id="weight" th:field="*{detail.weight}" class="form-control">
            </div>

            <!-- Image fields (hiển thị nhiều ảnh nếu có) -->
            <div class="form-group" th:each="imageItem, iterStat : ${product.detail.images}">
                <label for="imageName">Image Name:</label>
                <input type="text" th:field="*{detail.images[__${iterStat.index}__].name}" class="form-control">
                <label for="imageURI">Image URI:</label>
                <input type="text" th:field="*{detail.images[__${iterStat.index}__].imageUrl}" class="form-control">
            </div>

            <!-- Save Changes button -->
            <button type="submit" class="btn btn-primary">Save Changes</button>
        </form>

        <a href="/admin/products" class="btn btn-secondary">Back to Products</a>
    </div>

	<div th:replace="fragments/footer :: footer"></div>
	
    <script src="/js/admin/admin-product-edit.js"></script>
</body>
</html>
