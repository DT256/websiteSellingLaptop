<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layout.html}">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Chi tiết sản phẩm</title>
<link rel="stylesheet"
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<style>
.product-images img {
	width: 100px;
	cursor: pointer;
	border: 2px solid #ddd;
	padding: 5px;
}

.product-images img:hover {
	border-color: #777;
}

.main-image img {
	width: 100%;
	max-width: 550px;
}

.add-to-cart-btn {
	background-color: #D8373E; /* Đặt màu nền */
	color: white; /* Đặt màu chữ là trắng */
	border: none; /* Bỏ viền */
	padding: 10px 20px; /* Thêm khoảng cách trong nút */
	border-radius: 5px; /* Làm tròn các góc */
	cursor: pointer; /* Thêm con trỏ chuột khi di chuột lên nút */
	font-size: 28px; /* Đặt kích thước font chữ */
	transition: background-color 0.3s ease;
	/* Thêm hiệu ứng chuyển màu khi hover */
}

.add-to-cart-btn:hover {
	background-color: #D82E3E; /* Thay đổi màu nền khi hover */
	font-size: 28px; /* Tăng kích thước chữ cho nút */
	padding: 12px 25px;
} /* Điều chỉnh padding để nút lớn hơn *
}
/* Tăng kích thước chữ tiêu đề sản phẩm */
h2 {
	font-size: 50px; /* Tăng kích thước chữ tiêu đề */
	font-weight: bold; /* Làm đậm chữ */
}

/* Tăng kích thước chữ cho thông tin khác */
p, .price {
	font-size: 28px; /* Tăng kích thước chữ cho các đoạn văn bản */
}
#quantity {
    width: 100px; /* Tăng độ rộng của khung */
    height: 40px; /* Tăng chiều cao của khung */
    font-size: 28px; /* Tăng kích thước chữ trong khung */
    padding: 10px; /* Thêm padding cho trường nhập */
    margin-bottom: 20px;
}
</style>
</head>
<body>
	<section class="row" layout:fragment="content">

		<div class="container mt-5">
			<div class="row">
				<!-- Image Section -->
				<div class="col-md-6">
					<div class="main-image text-center mb-4">
						<img th:src="@{${product.detail.images[0].imageUrl}}"
							id="mainProductImage" alt="Main Product">
					</div>
					<div class="product-images d-flex justify-content-center gap-3">
						<div th:each="image : ${product.detail.images}">
							<img th:src="@{${image.imageUrl}}" alt="Product Image"
								onclick="changeImage(this)">
						</div>
					</div>
				</div>

				<!-- Product Details -->
				<div class="col-md-6">
					<h2 th:text="${product.name}"></h2>
					<p>
						<span class="badge bg-warning text-dark"
							th:text="${reviewCount} + ' review(s)'"></span> (<span
							th:text="${reviewCount}">1</span> Customer Review)
					</p>
					<p>
						Availability: <span
							th:class="${product.status == 0 ? 'text-danger' : (product.inventory.quantity > 0 ? 'text-success' : 'text-warning')}"
							th:text="${product.status == 0 ? 'Unavailable' : (product.inventory.quantity > 0 ? product.inventory.quantity : 'Out of stock')}">
						</span>
					</p>

					<p class="price" th:text="${product.price + ' đ'}"></p>
					<p th:text="${product.detail.description}"></p>

					<!-- Thêm vào giỏ hàng -->
					<div class="d-flex align-items-center mb-3">
						<form action="/cart/add" method="post">
							<input type="hidden" name="productId"
								th:value="${product.productID}"> <input id="quantity"
								type="number" class="form-control me-3" style="width: 80px;"
								value="1" min="1" name="quantity">
							<button type="submit" class="btn add-to-cart-btn">Add To
								Cart</button>
							<button type="submit" class="btn buy-now-btn">Mua ngay</button>
						</form>
					</div>

				</div>
			</div>
		</div>


		<script>
			function changeImage(element) {
				document.getElementById("mainProductImage").src = element.src;
			}
		</script>


	</section>
</body>
</html>